<!DOCTYPE html>
<html>
<head>
  <title>2 Player Instrumentation Quiz Arena</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
    }
    .arena {
      display: flex;
      justify-content: space-around;
      margin-top: 20px;
    }
    .player {
      border: 2px solid #333;
      padding: 20px;
      width: 40%;
    }
    .timer {
      font-size: 1.5em;
      color: red;
      margin: 10px;
    }
    button {
      margin: 5px;
      padding: 10px;
    }
    #results {
      margin-top: 30px;
      font-size: 1.5em;
      font-weight: bold;
      color: green;
    }
  </style>
</head>
<body>
  <h1>Side-by-Side Instrumentation Quiz Arena</h1>

  <div class="arena">
    <!-- Player 1 -->
    <div class="player" id="player1">
      <h2>Player 1</h2>
      <div class="timer" id="timer1">10</div>
      <div id="question1"></div>
      <div id="options1"></div>
      <p>Score: <span id="score1">0</span></p>
    </div>

    <!-- Player 2 -->
    <div class="player" id="player2">
      <h2>Player 2</h2>
      <div class="timer" id="timer2">10</div>
      <div id="question2"></div>
      <div id="options2"></div>
      <p>Score: <span id="score2">0</span></p>
    </div>
  </div>

  <div id="results"></div>

  <script>
    // Extended question pools
    const questions1 = [
      { q: "Which device measures pressure?", options: ["Thermocouple", "Manometer", "RTD"], answer: "Manometer" },
      { q: "PLC stands for?", options: ["Programmable Logic Controller", "Process Level Control", "Power Line Circuit"], answer: "Programmable Logic Controller" },
      { q: "Which sensor measures temperature?", options: ["RTD", "Flowmeter", "Strain Gauge"], answer: "RTD" },
      { q: "Which instrument measures level?", options: ["Ultrasonic Sensor", "RTD", "Thermocouple"], answer: "Ultrasonic Sensor" },
      { q: "Which device converts pressure into electrical signal?", options: ["Transducer", "I/P Converter", "Relay"], answer: "Transducer" },
      { q: "Which instrument uses Wheatstone bridge?", options: ["Strain Gauge", "Flowmeter", "Thermocouple"], answer: "Strain Gauge" },
      { q: "Which device is used for signal conditioning?", options: ["Amplifier", "RTD", "Manometer"], answer: "Amplifier" },
      { q: "Which instrument measures vibration?", options: ["Accelerometer", "RTD", "Orifice Plate"], answer: "Accelerometer" }
    ];

    const questions2 = [
      { q: "Which instrument measures flow?", options: ["Orifice Plate", "RTD", "Thermocouple"], answer: "Orifice Plate" },
      { q: "What does SCADA stand for?", options: ["Supervisory Control and Data Acquisition", "System Control and Data Analysis", "Signal Control and Device Automation"], answer: "Supervisory Control and Data Acquisition" },
      { q: "Which device converts current to pressure?", options: ["I/P Converter", "RTD", "Transducer"], answer: "I/P Converter" },
      { q: "Which instrument measures humidity?", options: ["Hygrometer", "RTD", "Manometer"], answer: "Hygrometer" },
      { q: "Which device is used for calibration?", options: ["Dead Weight Tester", "Amplifier", "Relay"], answer: "Dead Weight Tester" },
      { q: "Which instrument measures speed?", options: ["Tachometer", "RTD", "Thermocouple"], answer: "Tachometer" },
      { q: "Which device is used for flow visualization?", options: ["Rotameter", "RTD", "Strain Gauge"], answer: "Rotameter" },
      { q: "Which instrument measures differential pressure?", options: ["DP Transmitter", "RTD", "Relay"], answer: "DP Transmitter" }
    ];

    let score1 = 0, score2 = 0;
    let index1 = 0, index2 = 0;
    let time1 = 10, time2 = 10;
    let timer1, timer2;

    function loadQuestion(player) {
      if (player === 1 && index1 < questions1.length) {
        const q = questions1[index1];
        document.getElementById("question1").innerText = q.q;
        document.getElementById("options1").innerHTML = q.options.map(opt =>
          `<button onclick="answer(1, '${opt}')">${opt}</button>`).join("");
        time1 = 10;
        clearInterval(timer1);
        timer1 = setInterval(() => updateTimer(1), 1000);
      } else if (player === 1) {
        endGame();
      }

      if (player === 2 && index2 < questions2.length) {
        const q = questions2[index2];
        document.getElementById("question2").innerText = q.q;
        document.getElementById("options2").innerHTML = q.options.map(opt =>
          `<button onclick="answer(2, '${opt}')">${opt}</button>`).join("");
        time2 = 10;
        clearInterval(timer2);
        timer2 = setInterval(() => updateTimer(2), 1000);
      } else if (player === 2) {
        endGame();
      }
    }

    function updateTimer(player) {
      if (player === 1) {
        document.getElementById("timer1").innerText = time1;
        time1--;
        if (time1 < 0) {
          clearInterval(timer1);
          document.getElementById("question1").innerText = "Time's up!";
          index1++;
          setTimeout(() => loadQuestion(1), 1500);
        }
      } else {
        document.getElementById("timer2").innerText = time2;
        time2--;
        if (time2 < 0) {
          clearInterval(timer2);
          document.getElementById("question2").innerText = "Time's up!";
          index2++;
          setTimeout(() => loadQuestion(2), 1500);
        }
      }
    }

    function answer(player, choice) {
      if (player === 1) {
        const q = questions1[index1];
        if (choice === q.answer && time1 >= 0) {
          score1++;
          document.getElementById("score1").innerText = score1;
          document.getElementById("question1").innerText = "Correct!";
        } else {
          document.getElementById("question1").innerText = "Wrong!";
        }
        clearInterval(timer1);
        index1++;
        setTimeout(() => loadQuestion(1), 1500);
      } else {
        const q = questions2[index2];
        if (choice === q.answer && time2 >= 0) {
          score2++;
          document.getElementById("score2").innerText = score2;
          document.getElementById("question2").innerText = "Correct!";
        } else {
          document.getElementById("question2").innerText = "Wrong!";
        }
        clearInterval(timer2);
        index2++;
        setTimeout(() => loadQuestion(2), 1500);
      }
    }

    function endGame() {
      if (index1 >= questions1.length && index2 >= questions2.length) {
        let resultText = "";
        if (score1 > score2) {
          resultText = "üèÜ Player 1 Wins!";
        } else if (score2 > score1) {
          resultText = "üèÜ Player 2 Wins!";
        } else {
          resultText = "ü§ù It's a Draw!";
        }
        document.getElementById("results").innerText = resultText;
      }
    }

    // Start first questions
    loadQuestion(1);
    loadQuestion(2);
  </script>
</body>
</html>
